<!DOCTYPE html>
<html>
	<head>
		<title> Slothagami </title>
		<link rel="shortcut icon" href="favicon.ico?v=2" type="image/x-icon">
		<link rel="stylesheet" type="text/css" href="css/style.css?v=2">
		
		<script rel="text/javascript" src="js/jquery-3.5.1.min.js"></script>
		<script rel="text/javascript" src="js/scripts.js"></script>
		<script rel="text/javascript" src="libary/sg.js"></script>
		
		<meta name="description" content="Games and Coding project explanations.">
		<meta name="keywords" content="Gamemaker, Coding, Games, Free Games, Unblocked Games, Slothagami, slothagami, Slotha">
		<meta name="author" content="Slothagami">
		
		<script>
			var g={canvas:0,c:0},p={canvas:0,c:0},slant=0,mouse={x:0,y:0},fps=30,hover="",clearbox={width:0,height:0};
			window.onload=function(){
				g.canvas=document.getElementById("games-canvas");p.canvas=document.getElementById("projects-canvas");
				g.c=g.canvas.getContext("2d");p.c=p.canvas.getContext("2d");
				
				resize();
				setInterval(main, 1000/fps);
				window.addEventListener("resize",resize);
				window.addEventListener("mousemove",function(e){
					mouse.x = e.x;
					mouse.y = e.y;
				})
			}
			
			function main(){
				var rect = p.canvas.getBoundingClientRect();
				if(pointInRect(mouse.x,mouse.y, 0,rect.top,window.innerWidth,rect.bottom)){
					// if mouse hovering the canvases
					// set hover, rotate mouse and slice back and check collisions normally
					var boxX = Math.cos(-slant) * g.canvas.width,mouseX = Math.cos(-slant) * sg.angDist(0, 0, mouse.x, mouse.y);
					if(mouseX > boxX){hover="p"}else{hover="g"}
					if(hover=="p")pMain();else gMain();
				}
				draw();
			}
			function draw() {
				// game canvas draw
				g.c.clearRect(0,0,g.canvas.width,g.canvas.height);
				// bg
				g.c.fillStyle="#505050";
				g.c.fillRect(0, 0, g.canvas.width, g.canvas.height);
				// clear edge
				g.c.fillStyle="white";
				g.c.rotate(slant);
					var sx=Math.cos(-slant)*g.canvas.width,sy=Math.sin(-slant)*g.canvas.width;
					g.c.clearRect(sx, sy, g.canvas.width*0.5, g.canvas.height*1.5);
				g.c.rotate(-slant);
				// project canvas draw
				p.c.clearRect(0,0,p.canvas.width,p.canvas.height);
				// bg
				p.c.fillStyle="#303030";
				p.c.fillRect(0, 0, p.canvas.width, p.canvas.height)
			}
			function pointInRect(px,py,x1,y1,x2,y2){if(px>x1&&px<x2&&py>y1&&py<y2)return true;else return false;}
			function resize(){
				var wd=window.innerWidth*.6,he=window.innerHeight*.75;p.canvas.width=wd;p.canvas.height=he;g.canvas.width=wd;g.canvas.height=he;p.canvas.style.zIndex = -1;
				// calculate slant
				var c=p.canvas.width*2-window.innerWidth,b=p.canvas.height;a=Math.hypot(b,c);slant=Math.acos((Math.pow(a,2)+Math.pow(b,2)-Math.pow(c,2))/(2*a*b));
				//scale box
				clearbox.width=c;clearbox.height=a;
				var linkTable=document.getElementById("link-table");
				linkTable.style.height = he + "px";
				linkTable.style.top = $("#bigTitle").outerHeight(true) + "px";
			}
			function pMain() {
				
			}
			function gMain() {
				
			}
		</script>
		
		<style>		
			#bigTitle{text-align:center;font-size:5vw;color:white;margin:35px 0px}
			#bodydiv{top:0px;}
			body{background-image:none}
			table{border-collapse:collapse}
			#projects-canvas{position:absolute;right:0px;transform:translate(0,-50.3%)}
			.category-container{position:relative}
			span{width:100%;height:100px}
			#link-table{position:absolute;top:10px}
			.l-a{width:100%;height:100%;display:block}
		</style>
		
	</head>
	<body>
		<div id="bodydiv">
				<h3 id="bigTitle"> Slothagami </h3>
				<!-- Include links to: games.html, coding-projects.html -->
				<div id="category-container">
					<table><tr>
						<th><canvas id="games-canvas" class="category-canvas"></canvas></th>
						<th><canvas id="projects-canvas" class="category-canvas"></canvas></th>
					</tr></table>
						
					<table id="link-table" style="width:100%"><tr>
						<th><a class="l-a" href="games.html"></a></th>
						<th><a class="l-a" href="coding-projects.html"></a></th>
					</tr></table>
				</div>
				<img src="images/placeholder.png" style="width:100%;margin-top:100px" />
		</div>
		
		<div id="side-base"></div>
	</body>
</html>